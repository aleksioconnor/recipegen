(this.webpackJsonprecipegen=this.webpackJsonprecipegen||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(23),c=a.n(r),i=a(5),o=a(2),u=a(3),l=a.n(u),f=function(e){var t=e.oval,a=e.question,n=e.clickBlock,r=e.checkClickBlock,c=e.buttonRefs,i=e.ovalButtonRefs,o=e.ovalContainRefs,u=a.answer_options.map((function(e,t){return s.a.createElement("div",{key:e.answer_id+60,className:"single-question-button-contain"},s.a.createElement("button",{ref:function(e){return c[t]=e},className:n?"question-button no-pointer":"question-button",onClick:function(){return r(e,c[t])},key:e.answer_id},e.answer_text))})),l=a.answer_options.map((function(e,t){return s.a.createElement("div",{key:e.answer_id+40,ref:function(e){return o[t]=e},className:"oval-question-button-contain",style:{left:(t+1)%2===0?30:-30}},s.a.createElement("svg",{key:e.answer_id+10,height:"100",width:"260"},s.a.createElement("ellipse",{className:"ovalbutton ".concat(n?"no-pointer":""),cx:"130",cy:"50",rx:"130",ry:"40",style:{fill:"#ee936c"},key:e.answer_id+20,ref:function(e){return i[t]=e},onClick:function(){return r(e,i[t],o[t])}}),s.a.createElement("text",{className:"ovaltext ".concat(n?"no-pointer":""),x:"50%",y:"50%",textAnchor:"middle",fill:"black",fontSize:"15 px",fontFamily:"Roboto",dy:".3em",key:e.answer_id+30},e.answer_text)))}));return s.a.createElement("div",null,s.a.createElement("div",{style:t?{display:"block"}:{display:"none"}},l),s.a.createElement("div",{style:t?{display:"none"}:{display:"flex"},className:"question-button-container"},u))},g=function(e){var t=e.currentQuestionIndex,a=e.setNextQuestion,r=e.questions,c=e.clickBlock,u=e.setClickBlock,g=Object(n.useRef)(null),_=Object(n.useState)([]),d=Object(i.a)(_,2),m=d[0],w=(d[1],Object(n.useState)([])),y=Object(i.a)(w,2),p=y[0],b=(y[1],Object(n.useState)([])),h=Object(i.a)(b,2),v=h[0],k=(h[1],Object(n.useRef)(!0)),O=Object(n.useState)(!0),E=Object(i.a)(O,2),j=E[0],x=E[1],N=r[t];Object(n.useEffect)((function(){x(N.answer_options.map((function(e){return e.answer_text})).reduce((function(e,t){return e.length<t.length?t:e}),"").length>18),k.current||function(e){o.f.to(e,0,{top:800})}(m),function(e,t){l.a.forEach(t,(function(e,t){t%2===0?o.f.to(e,0,{left:-500}):o.f.to(e,0,{left:500})}))}(0,v),k&&(k.current=!1),u(!0),j||function(e,t,a){o.f.to(e.current,.3,{opacity:1,ease:o.c.easeInOut}),new o.d({onComplete:t,onCompleteParams:[!1]}).staggerTo(a,.9,{top:0,ease:o.a.easeInOut.config(.7)},.2)}(g,u,m),j&&function(e,t,a,n){o.f.to(e.current,.01,{opacity:1,ease:o.c.easeInOut}),o.f.to(e.current,1,{opacity:1,ease:o.c.easeInOut}).eventCallback("onComplete",t,[!1]),l.a.forEach(n,(function(e,t){t%2===0?o.f.to(e,1,{left:30,ease:o.c.easeInOut}):o.f.to(e,1,{left:-30,ease:o.c.easeInOut})}))}(g,u,0,v)}),[m,t,j,p,v,N.answer_options,u]);var C=function(e,t,n){u(!0),j?function(e,t,a,n,s){var r=new o.d({onComplete:e,onCompleteParams:[n]});r.to(s,.4,{left:500,ease:o.c.easeIn}),r.to(a.current,.5,{opacity:0,delay:.2}),r.to(t,0,{fill:"#ee936c"}),r.to(t,0,{scaleY:1,transformOrigin:"50% 50%"})}(a,t,g,e,n):function(e,t,a,n){var s=new o.d({onComplete:e,onCompleteParams:[n]});s.to(t,.4,{scaleY:1.2,scaleX:1.2,ease:o.c.easeInOut}),s.to(t,.1,{scaleY:0,scaleX:0,ease:o.c.easeIn}),s.to(a.current,.3,{opacity:0,delay:.2}),s.to(t,0,{scaleY:1,scaleX:1})}(a,t,g,e)};return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{ref:g,className:"question-contain"},s.a.createElement("h3",{className:"question-title"},N.question_text),s.a.createElement("div",null,s.a.createElement(f,{ovalContainRefs:v,clickBlock:c,checkClickBlock:function(e,t,a){if(c)return null;C(e,t,a)},setNext:C,buttonRefs:m,ovalButtonRefs:p,question:N,oval:j}))))},_=[{category:"type",questions:[{question_id:1,question_text:"Give me something...",answer_options:[{answer_text:"sweet",answer_id:1,answer_tag_category:"type",answer_tag:"sweet"},{answer_text:"savoury",answer_id:2,answer_tag_category:"type",answer_tag:"savoury"},{answer_text:"spicy",answer_id:3,answer_tag_category:"type",answer_tag:"spicy"},{answer_text:"icy",answer_id:4,answer_tag_category:"type",answer_tag:"icy"}]}]},{category:"difficulty",questions:[{question_id:2,question_text:"My motto in the kitchen is...",answer_options:[{answer_text:"Go big or go home",answer_id:1,answer_tag_category:"difficulty",answer_tag:"challenging"},{answer_text:"Less is more",answer_id:2,answer_tag_category:"difficulty",answer_tag:"simple"},{answer_text:"My kitchen my rules",answer_id:3,answer_tag_category:"difficulty",answer_tag:"time-consuming"},{answer_text:"Fake it till you make it",answer_id:4,answer_tag_category:"difficulty",answer_tag:"easy"}]},{question_id:3,question_text:"Cooking is the best when...",answer_options:[{answer_text:"it\u2019s quick and easy",answer_id:1,answer_tag_category:"difficulty",answer_tag:"easy"},{answer_text:"there is little to clean up",answer_id:2,answer_tag_category:"difficulty",answer_tag:"simple"},{answer_text:"it's challenging",answer_id:3,answer_tag_category:"difficulty",answer_tag:"time-consuming"},{answer_text:"Fake it till you make it",answer_id:4,answer_tag_category:"difficulty",answer_tag:"challenging"}]},{question_id:4,question_text:"Who\u2019s coming over?",question_category:"difficulty",next_question:7,answer_options:[{answer_text:"The Queen",answer_id:1,answer_tag_category:"difficulty",answer_tag:"challenging"},{answer_text:"Winnie the Pooh",answer_id:2,answer_tag_category:"difficulty",answer_tag:"simple"},{answer_text:"Batman",answer_id:3,answer_tag_category:"difficulty",answer_tag:"easy"},{answer_text:"No one, I\u2019m locking my door!",answer_id:4,answer_tag_category:"difficulty",answer_tag:"time-consuming"}]}]},{category:"nutrition",questions:[{question_id:5,question_text:"What do you crave?",answer_options:[{answer_text:"Food coma, here I come!",answer_id:1,answer_tag_category:"nutrition",answer_tag:"unhealthy"},{answer_text:"Something light",answer_id:2,answer_tag_category:"nutrition",answer_tag:"healthy"},{answer_text:"I don\u2019t care, I\u2019m hangry!",answer_id:3,answer_tag_category:"nutrition",answer_tag:"unhealthy"},{answer_text:"Surprise me!",answer_id:4,answer_tag_category:"nutrition",answer_tag:"healthy"}]},{question_id:6,question_text:"A nutritious meal is\u2026",answer_options:[{answer_text:"the best kind of meal!",answer_id:1,answer_tag_category:"nutrition",answer_tag:"healthy"},{answer_text:"a necessary evil.",answer_id:2,answer_tag_category:"nutrition",answer_tag:"healthy"},{answer_text:"a bonus",answer_id:3,answer_tag_category:"nutrition",answer_tag:"unhealthy"},{answer_text:"Not an option",answer_id:4,answer_tag_category:"nutrition",answer_tag:"unhealthy"}]}]},{category:"season",questions:[{question_id:7,question_text:"I feel inspired by\u2026",answer_options:[{answer_text:"autmn leaves",answer_id:1,answer_tag_category:"season",answer_tag:"autmn"},{answer_text:"sunshine",answer_id:2,answer_tag_category:"season",answer_tag:"spring"},{answer_text:"the beach",answer_id:3,answer_tag_category:"season",answer_tag:"summer"},{answer_text:"friday nights",answer_id:4,answer_tag_category:"season",answer_tag:"winter"}]},{question_id:8,question_text:"My secret ingredient is\u2026",answer_options:[{answer_text:"love",answer_id:1,answer_tag_category:"season",answer_tag:"spring"},{answer_text:"food delivery",answer_id:2,answer_tag_category:"season",answer_tag:"autumn"},{answer_text:"a secret",answer_id:3,answer_tag_category:"season",answer_tag:"summer"},{answer_text:"plenty of salt",answer_id:4,answer_tag_category:"season",answer_tag:"winter"}]},{question_id:9,question_text:"Today\u2019s soundtrack is\u2026",answer_options:[{answer_text:"Hakuna Matata",answer_id:1,answer_tag_category:"season",answer_tag:"summer"},{answer_text:"Don\u2019t Stop Believing",answer_id:2,answer_tag_category:"season",answer_tag:"spring"},{answer_text:"Ice Ice Baby",answer_id:3,answer_tag_category:"season",answer_tag:"winter"},{answer_text:"All You Need Is Love",answer_id:4,answer_tag_category:"season",answer_tag:"autmun"}]}]}],d=a(13),m=a.n(d),w=a(16),y=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useState)([]),u=Object(i.a)(c,2),f=u[0],g=u[1],_=Object(n.useState)(0),d=Object(i.a)(_,2),y=d[0],p=d[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),v=h[0],k=h[1],O=Object(n.useState)([]),E=Object(i.a)(O,2),j=E[0],x=E[1],N=[["sweet","savoury","spicy","icy"],["simple","challenging","time-consuming","easy"],["healthy","unhealthy"],["spring","summer","autumn","winter"]],C=function(){var t=Object(w.a)(m.a.mark((function t(){var a,n,s,r,c,i,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.firebaseState.database(),t.next=3,a.ref("/recipes/").once("value");case 3:n=t.sent,s=n.toJSON(),r=[],c=function(){var t=["","","",""];return l.a.forEach(e.tags,(function(e){l.a.includes(N[0],e)?t[0]=e:l.a.includes(N[1],e)?t[1]=e:l.a.includes(N[2],e)?t[2]=e:l.a.includes(N[3],e)&&(t[3]=e)})),t}(),l.a.forEach(s,(function(t){var a=[];l.a.forEach(e.selectedDietTags,(function(e){var n=l.a.includes(t.tags,e);a.push(n)})),a.every((function(e){return!0===e}))&&r.push(t)})),i=[],l.a.forEach(r,(function(e){var t=[];l.a.forEach(c,(function(a){var n=l.a.includes(e.tags,a);t.push(n)})),t.every((function(e){return!0===e}))&&i.push(e)})),i.length<1&&(i=[],c.pop(),l.a.forEach(r,(function(e){var t=[];l.a.forEach(c,(function(a){var n=l.a.includes(e.tags,a);t.push(n)})),t.every((function(e){return!0===e}))&&i.push(e)}))),i.length<1&&(i=[],c.pop(),l.a.forEach(r,(function(e){var t=[];l.a.forEach(c,(function(a){var n=l.a.includes(e.tags,a);t.push(n)})),t.every((function(e){return!0===e}))&&i.push(e)}))),i.length<1&&(i=[],c.pop(),l.a.forEach(r,(function(e){var t=[];l.a.forEach(c,(function(a){var n=l.a.includes(e.tags,a);t.push(n)})),t.every((function(e){return!0===e}))&&i.push(e)}))),g(i),o=Math.floor(Math.random()*i.length),x(i[o]);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){C()}),[]);Object(n.useEffect)((function(){!function(){var e=new o.d;e.to(a.current,0,{opacity:0}),e.to(r.current,0,{opacity:0}),e.to(t.current,0,{opacity:0}),e.to([t.current,r.current,a.current],1,{opacity:1})}()}),[]);var q=function(){var t=Object(w.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.firebaseState.database().ref("/recipes/").orderByChild("id").equalTo(j.id).on("child_added",(function(t){e.firebaseState.database().ref("/recipes/"+t.key).update({likes:j.likes+1})}));case 2:x(Object.assign(j,{likes:j.likes+1})),k(!0),p(j.likes);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"top-gradient opacity",ref:a}),s.a.createElement("div",{onClick:function(){return function(e){var n=o.f.to(t.current,1,{opacity:0,ease:o.c.easeInOut});o.f.to(a.current,1,{opacity:0,ease:o.c.easeInOut}),o.f.to(r.current,1,{opacity:0,ease:o.c.easeInOut}),n.eventCallback("onComplete",e)}(e.goHome)},className:"home opacity",ref:r},"Home"),s.a.createElement("div",{ref:t,className:"recipe-contain opacity"},s.a.createElement("h3",{className:"makesome"},"Make some:"),s.a.createElement("h1",{className:"recipename"},0!==j.length?j.name:null),s.a.createElement("div",{className:"time"},"takes ",0!==j.length?j.time:null," to cook"),s.a.createElement("div",{className:"servings"},"has ",0!==j.length?j.servings:null," servings"),s.a.createElement("div",{className:"final-img",style:{backgroundImage:"url(/recipegen/".concat(j.img,")")}}),s.a.createElement("div",{className:"likes"},"This recipe has ",v?y:j.likes," likes",s.a.createElement("div",{className:"likebutton",onClick:function(){return q()}},"Click to like")),s.a.createElement("div",{className:"final-button-contain"},f.length>1?s.a.createElement("button",{onClick:function(){return function(){k(!1);var e=function e(t,a){var n=l.a.findIndex(f,(function(e){return e===j})),s=Math.floor(Math.random()*(a-t+1))+t;return s===n?e(t,a):s}(0,f.length-1);x(f[e])}()},className:"final-button"},"New suggestion"):null),s.a.createElement("div",{className:"recipe"},s.a.createElement("div",{className:"ingredients-title"},"Ingredients:"),s.a.createElement("ul",{className:"ingredients"},0!==j.length?Object.keys(j.ingredients).map((function(e){return s.a.createElement("li",null,"- "+j.ingredients[e])})):null),s.a.createElement("div",{className:"instructions-title"},"Instructions:"),s.a.createElement("ul",{className:"instructions"},0!==j.length?Object.keys(j.instructions).map((function(e){return s.a.createElement("li",null,Number(e)+1+". "+j.instructions[e])})):null))))},p=a(17),b=function(e){var t=e.selectedTags,a=e.setSelectedTags,r=e.tags,c=e.buttonClicked,o=e.clickBlock,u=e.fadeIn,f=e.setFadeIn,g=Object(n.useState)([]),_=Object(i.a)(g,2),d=_[0],m=(_[1],Object(n.useRef)(!0));Object(n.useEffect)((function(){if(m.current)m.current=!1;else{var e=new p.a;e.staggerTo(d,.1,{opacity:0,visibility:"hidden"},.1),e.play()}}),[c,d]),Object(n.useEffect)((function(){if(u){var e=new p.a;e.to(d,0,{opacity:0,visibility:"hidden"},0),e.to(d,.8,{opacity:1,visibility:"visible",delay:.2}),e.play(),f(!1)}}));var w=r.map((function(e,n){return s.a.createElement("button",{ref:function(e){return d[n]=e},key:e,onClick:function(){return function(e){if(o)return null;var n=t.slice();l.a.includes(t,e)?(l.a.remove(n,(function(t){return t===e})),a(n)):(n.push(e),a(n))}(e)},className:"".concat((r=e,l.a.includes(t,r)?"diet-button--selected":"diet-button")," opacity")},function(e){return"DF"===e?"dairy-free":"GF"===e?"gluten-free":e}(e));var r}));return s.a.createElement("div",{className:"diet-button-container"},w)},h=function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(null),r=Object(n.useRef)(null),c=Object(n.useRef)(null),u=Object(n.useRef)(null),l=Object(n.useRef)(null),f=Object(n.useRef)(null),g=Object(n.useState)(!1),_=Object(i.a)(g,2),d=_[0],m=_[1],w=Object(n.useRef)(!0),y=Object(n.useState)(null),p=Object(i.a)(y,2),h=p[0],v=p[1],k=Object(n.useState)(!1),O=Object(i.a)(k,2),E=O[0],j=O[1],x=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(w.current)return j(!0),o.f.to(t.current,0,{opacity:0}),o.f.to(a.current,0,{opacity:0}),o.f.to(r.current,0,{opacity:0}),o.f.to(x.current,0,{opacity:0}),o.f.to(t.current,.8,{opacity:1,delay:.2}),o.f.to(a.current,.8,{opacity:1,delay:.2}),o.f.to(r.current,.8,{opacity:1,delay:.2}),o.f.to(x.current,.8,{opacity:1,delay:.2}),void(w.current=!1);if(d){var n=o.f.to(t.current,.8,{opacity:0});o.f.to(a.current,.8,{opacity:0}),o.f.to(r.current,.8,{opacity:0}),o.f.to(x.current,.8,{opacity:0}),n.eventCallback("onComplete",e.start)}}),[d,e.start]),s.a.createElement("div",{ref:c,className:"main-container--landing-page"},s.a.createElement("div",{className:"cards-container",ref:u},s.a.createElement("div",{className:"backOfCard card",ref:l},s.a.createElement("h1",{className:"about-title"},"About recipe generator"),s.a.createElement("p",{className:"about"},"Recipe Generator is a playful service that aims to provide recipe inspiration. The service suggests a recipe to the user based on a series of questions that must first be answered. The questions are presented through a simplified, easy-to-use, and visually attractive interface. Give it a try and find new and exciting recipes! "),s.a.createElement("p",{className:"about"},"Created by: Maija J\xe4\xe4skel\xe4inen, Aleksi O'Connor and Laura Toikka"),s.a.createElement("button",{className:"final-button",onClick:function(){h.reverse()}},"Back")),s.a.createElement("div",{className:"backOfCard card",ref:f},s.a.createElement("img",{ref:a,className:"logo",src:"/recipegen/logo.png",alt:"logo"}),s.a.createElement("h5",{className:"opacity",ref:r},"Any preferences before we start?"),s.a.createElement(b,{clickBlock:e.clickBlock,fadeIn:E,setFadeIn:j,buttonClicked:d,selectedTags:e.selectedTags,setSelectedTags:e.setSelectedTags,tags:e.tags}),s.a.createElement("button",{className:"start-button",ref:t,onClick:function(){return function(){if(e.clickBlock)return null;m(!0)}()}},"GO"),s.a.createElement("div",{onClick:function(){return function(t){e.setClickBlock(!0),o.b.defaultTransformPerspective=1e3,o.g.set(l.current,{rotationY:-180});var a=new o.e({paused:!0}).to(f.current,1,{rotationY:180,ease:o.c.easeInOut}).to(l.current,1,{rotationY:0,ease:o.c.easeInOut},0);a.eventCallback("onComplete",e.setClickBlock,[!1]),a.play(),v(a)}()},className:"help",ref:x},"What is this?"))))},v=(a(33),a(34),a(18));a(35);var k=function(){var e=function(e){var t=[];return l.a.forEach(_,(function(e){var a=l.a.shuffle(e.questions).slice(0,1);t.push(a[0])})),l.a.shuffle(t)},t=Object(n.useState)(4),a=Object(i.a)(t,1)[0],r=Object(n.useState)(e()),c=Object(i.a)(r,2),o=c[0],u=c[1],f=Object(n.useState)(0),d=Object(i.a)(f,2),m=d[0],w=d[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),k=b[0],O=b[1],E=Object(n.useState)(!0),j=Object(i.a)(E,2),x=j[0],N=j[1],C=Object(n.useState)(!1),q=Object(i.a)(C,2),I=q[0],S=q[1],B=Object(n.useState)([]),R=Object(i.a)(B,2),T=R[0],F=R[1],A=Object(n.useState)(null),M=Object(i.a)(A,2),G=M[0],Y=M[1];Object(n.useEffect)((function(){v.initializeApp({apiKey:"AIzaSyA8YvUHrQ46G-2AzTZ8FCcurpgwaGuj04g",authDomain:"recipegen-fa395.firebaseapp.com",databaseURL:"https://recipegen-fa395.firebaseio.com",projectId:"recipegen-fa395",storageBucket:"recipegen-fa395.appspot.com"}),Y(v)}),[]);var D=function(){u(e()),O([]),w(0)};return s.a.createElement("div",null,x?s.a.createElement(h,{clickBlock:I,setClickBlock:S,start:function(){N(!1)},selectedTags:T,setSelectedTags:F,tags:["pescatarian","DF","GF","vegan","vegetarian"]}):m>a-1?s.a.createElement(y,{firebaseState:G,selectedDietTags:T,restart:D,tags:k,goHome:function(){return D(),void N(!0)}}):s.a.createElement(g,{clickBlock:I,setClickBlock:S,currentQuestionIndex:m,setNextQuestion:function(e){var t=k.slice(0),a=e.answer_tag;t.push(a),O(t),w(m+1),S(!1)},questions:o}))},O=a(24);a.n(O).a.load({google:{families:["Pontano Sans","Roboto:400,500,700"]}}),c.a.render(s.a.createElement(k,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.46fa94a1.chunk.js.map